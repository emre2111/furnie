  <%#= raise %>
  <div>
    <%= link_to "Go full random", randomize_booking_path(@booking), class: "btn btn-primary" %>
  </div>

  <div>
    <%= form_tag booking_products_path(@booking), class: "form-sidebar", method: :get do |f| %> <%#= add remote = true for AJAX %>

    <% product_room_options = Room.pluck(:name).uniq %>
    <% product_room_options << "all" %>

    <% category_options = @products.pluck(:category).uniq %>
    <% category_options << "all" %>

    <% style_options = @products.pluck(:style).uniq %>
    <% style_options << "all" %>

    <% material_options = @products.pluck(:material).uniq %>
    <% material_options << "all" %>

    <div class="form-tag room-category">
      <div class="label_tag">
        <%= label_tag(:product_room, "Room category:") %>
      </div>
      <div class="select_tag">
        <%= select_tag :product_room, options_for_select(product_room_options.sort, params[:product_room]) %>
      </div>
    </div>
    <div class="form-tag furniture-category">
      <div class="label_tag">
        <%= label_tag(:category, "Furniture category:") %>
      </div>
      <div class="select_tag">
        <%= select_tag :category, options_for_select(category_options.sort, params[:category]) %>
      </div>
    </div>
    <div class="form-tag style">
      <div class="label_tag">
        <%= label_tag(:style, "Style:") %>
      </div>
      <div class="select_tag">
        <%= select_tag :style, options_for_select(style_options.sort, params[:style]) %>
      </div>
    </div>
    <div class="form-tag material">
      <div class="label_tag">
        <%= label_tag(:material, "Material:") %>
      </div>
      <div class="select_tag">
        <%= select_tag :material, options_for_select(material_options.sort, params[:material]) %>
      </div>
    </div>
    <% end %>
  </div>

  <div class="form form-inline">
    <%#= simple_form_for(@booking, html: {class: "date-picker-index"}) do |f| %>
    <%#= f.input :ends_at, as: :string, input_html: { id: "datepicker" }, label: "Change your dates" %>
    <%# end %>
    <%= simple_form_for(@booking) do |f| %>
      <%= f.input :starts_at, as: :string, input_html: { id: "start_date" },
      required: false, placeholder: "From when?", label: false %>
      <%= f.input :ends_at, as: :string, input_html: { id: "end_date" },
      required: false, placeholder: "Until when?", label: false %>
      <%= f.button :submit, "Change dates", class: "btn btn-primary"%>
    <% end %>
  </div>


  <%= content_for(:after_js) do  %>
   <%= javascript_pack_tag "event-sidebar" %>
  <% end %>
